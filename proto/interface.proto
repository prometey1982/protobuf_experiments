syntax = "proto3";

option java_multiple_files = true;
option java_package = "protobuf_experiments";
option java_outer_classname = "PBExperiments";
option objc_class_prefix = "PBE";

package protobuf_experiments;

message MessageHeader {
    MessageType message_type = 1;
    uint32 version = 2;
    string vin = 3;
}

enum MessageType {
    UNKNOWN = 0;
    AVAILABLE_PROJECTS_REQUEST = 1;
    AVAILABLE_PROJECTS_RESNPOSE = 2;
    PROJECT_REQUEST = 3;
    PROJECT_RESPONSE = 4;
}

message AvailableProjectsRequest {
    MessageHeader header = 1;
}

message ProjectRequest {
    MessageHeader header = 1;
    string name = 2;
}

message AvailableProject {
    string name = 1;
    uint32 crc = 2;
}

message AvailableProjectsResponse {
    MessageHeader header = 1;
    repeated AvailableProject available_projects = 2;
}

message ProjectResponse {
    MessageHeader header = 1;
    bytes data = 2;
}
